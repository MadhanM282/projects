<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/nav.css">
    <link rel="stylesheet" href="style/home.css">
    <title>github</title>
    
</head>
<body>
    <div class="nav">
        
    </div>
    <div class="main">
        <!-- <button id="repos">get user repo</button> -->
    </div>
</body>
</html>
<script type="module">
    import nav from './component/nav.js'

    import user from "./script/user.js"


    import repos from "./script/repo.js"

    let navbar = document.querySelector(".nav")
    navbar.innerHTML = nav()

    let loc = document.querySelector(".main")


    let input = document.querySelector("#search");
    input.addEventListener("keypress",searchUser)

    let repo;
    async function searchUser(event){
            
        try{
            if (event.key === "Enter") {

                let value = input.value;
                let res = await user(value)
                // console.log('res', res);
                let { avatar_url, repos_url } = res;
                // console.log('repos_url', repos_url);
                let image = document.querySelector("#image").src = avatar_url

                let reposit =await fetch(repos_url)

                repo = reposit.url
                // console.log(repo)   
                repos(repo,loc)

            }
        }
        catch(err){
            console.log('err', err);
        }
         
    }

    
    

   


    

    

</script>